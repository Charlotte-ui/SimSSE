<app-header
  [scenario]="scenario"
  [changesToSave]="changesToSave"
  (newSave)="save()"
></app-header>
<mat-tab-group (selectedTabChange)="reloadPlastron($event)">
  <mat-tab label="Infos générales">
    <app-general-infos
      [scenario]="scenario"
      (newTotalPlastron)="totalPlastron = $event"
      (updateScenario)="changesToSave = true; scenarioToSave = true"
      (updateTags)="changesToSave = true;"
      (map)="map = $event"
    ></app-general-infos>
  </mat-tab>
  <mat-tab label="Groupes">
    <app-groupes
      *ngIf="groupes"
      [scenario]="scenario"
      [groupes]="groupes"
      [map]="map"
      (updateGroupes)="changesToSave = true; groupesToSave = true"
      (updateScenario)="changesToSave = true; scenarioToSave = true"
    ></app-groupes>
  </mat-tab>
  <mat-tab label="Plastrons et modèles">
    <ng-container *ngIf="totalPlastron">
      <app-lot-plastrons
        [groupes]="groupes"
        [plastrons]="plastrons"
        [totalPlastron]="totalPlastron"
        [scenario]="scenario"
      ></app-lot-plastrons>
    </ng-container>
  </mat-tab>
</mat-tab-group>
